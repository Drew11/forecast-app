(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,r){e.exports=r(48)},40:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(15),i=r.n(c),s=(r(39),r(40),r(12)),o=r.n(s),u=r(17),l=r(11),h=r(24),m=r(25),f=r(32),y=r(26),p=r(33),E=r(3),W=Object(E.b)(function(e){return{currentDayWeather:e.currentDayWeather}})(function(e){var t=e.currentDayWeather.current;return n.a.createElement("ul",null,n.a.createElement("li",{className:"temp_c"},"Temperature: ","".concat(t.temp_c," \u2103")),n.a.createElement("li",{className:"temp_c"},"Precip: ","".concat(t.precip_mm," mm")),n.a.createElement("li",{className:"temp_c"},"Wind: ","".concat(t.wind_mph," mph")),n.a.createElement("li",{className:"temp_c"},"Pressure: ","".concat(t.pressure_in," in")),n.a.createElement("li",{className:"temp_c"},"Humidity: ","".concat(t.humidity)))}),d=Object(E.b)(function(e){return{currentDayWeather:e.currentDayWeather}})(function(e){var t=e.currentDayWeather.location;return n.a.createElement("ul",null,n.a.createElement("li",null,"Country: ",t.country),n.a.createElement("li",null,"City: ",t.name),n.a.createElement("li",null,"Localtime: ",t.localtime))}),C=r(10),b="key=40d72c138d8f408382d145239191207",_="https://api.apixu.com/v1/current.json?",v="https://api.apixu.com/v1/forecast.json?";var D=Object(E.b)(function(e){return{currentCityWeather:e.currentDayWeather,forecastWeather:e.forecastWeather}},function(e){return{setForecastWeather:function(t){return e({type:"SET_FORECAST_WEATHER",forecastWeather:t})}}})(function(e){var t=e.currentCityWeather,r=e.setForecastWeather,a=(e.forecastWeather,function(){var e=Object(u.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t.location.name,fetch("".concat(v+b,"&q=").concat(n,"&days=5")).then(function(e){return e.json()});case 2:a=e.sent,r(a.forecast.forecastday);case 4:case"end":return e.stop()}var n},e)}));return function(){return e.apply(this,arguments)}}());return t.current?n.a.createElement(C.a,null,n.a.createElement("div",{className:"rendered__weather-detail"},n.a.createElement(d,null),n.a.createElement(W,null)),n.a.createElement(C.b,{className:"link__forecast",to:"/forecast_weather",onClick:a},"Weather on week")):null}),O=Object(E.b)(function(e){return{historyCities:e.historyCities,currentDayWeather:e.currentDayWeather}})(function(e){var t=e.historyCities,r=e.click,a=e.currentDayWeather;return console.log(a),n.a.createElement("div",{className:"lastFiveQuery"},n.a.createElement("h4",null,"last 5 query cities..."),n.a.createElement("ul",null,t.length>0?t.map(function(e,t){return n.a.createElement("li",{key:t,onClick:function(){return r(e)},className:a.location.name===e?"active":""},e)}):null))}),j=r(9),T=r(50),w=(r(47),Object(E.b)(function(e){return{forecastWeather:e.forecastWeather}})(function(e){var t=e.forecastWeather;return console.log(t),n.a.createElement(C.a,null,n.a.createElement("div",{className:"forecast"},t.map(function(e){return n.a.createElement("li",null,e.date+"--- avgtemp_c:"+e.day.maxtemp_c)})))})),N=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(f.a)(this,Object(y.a)(t).call(this))).selectCityHistory=function(t){e.setState(function(e){return Object(l.a)({},e,{searchCity:t})})},e.confirmSearchCity=function(t){if(13===t.which){var r=t.target.value;e.setState(function(e){return Object(l.a)({},e,{searchCity:r})})}},e.state={searchCity:""},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(o.a.mark(function e(t,r){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.searchCity===this.state.searchCity){e.next=5;break}return e.next=3,n=this.state.searchCity,fetch("".concat(_+b,"&q=").concat(n)).then(function(e){return e.json()});case 3:a=e.sent,this.props.setCurrentDayWeather(a);case 5:t.currentDayWeather.current!==this.props.currentDayWeather.current&&this.props.currentDayWeather.location&&this.props.currentDayWeather.location.name&&this.props.addCityToHistory(this.props.currentDayWeather.location.name);case 6:case"end":return e.stop()}var n},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.props.forecastWeather),n.a.createElement(C.a,null,n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h1",null,"Forecast App"),n.a.createElement(T.a,{type:"text",onChange:this.confirmSearchCity,onKeyPress:this.confirmSearchCity})),n.a.createElement("main",null,n.a.createElement(D,null),n.a.createElement(O,{click:this.selectCityHistory}),this.props.forecastWeather.length>0?n.a.createElement(j.a,{path:"/forecast_weather",component:w}):null)))}}]),t}(a.Component),k=Object(E.b)(function(e){return{currentDayWeather:e.currentDayWeather,forecastWeather:e.forecastWeather}},function(e){return{setCurrentDayWeather:function(t){return e({type:"SET_CURRENT_DAY_WEATHER",currentDayWeather:t})},addCityToHistory:function(t){return e({type:"ADD_CITY_TO_HISTORY",cityName:t})}}})(N),S=r(31),A=r(18);var g=Object(A.b)(function(e,t){switch(t.type){case"SET_CURRENT_DAY_WEATHER":return Object(l.a)({},e,{currentDayWeather:t.currentDayWeather});case"SET_FORECAST_WEATHER":return Object(l.a)({},e,{forecastWeather:t.forecastWeather});case"ADD_CITY_TO_HISTORY":var r=Object(S.a)(e.historyCities);return r.includes(t.cityName)||r.push(t.cityName),r.length>5&&r.shift(),Object(l.a)({},e,{historyCities:r});default:return e}},{currentDayWeather:{},forecastWeather:[],historyCities:[]});g.subscribe(function(){console.log(g.getState())});var R=g;i.a.render(n.a.createElement(E.a,{store:R},n.a.createElement(k,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.43e45679.chunk.js.map